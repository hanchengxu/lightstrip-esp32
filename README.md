# lightstrip-esp32

主控为esp32的人体感应灯带。
并且可以通过不同的灯光颜色来传递每日天气情况。

## 动机
因为客厅一直没有夜灯，晚上起夜开灯会闪到我家鼠子。  
于是制作了这款人体感应的灯带，安装在客厅餐桌下沿。  
这样既不会吓到鼠子，又可以提供夜间照明。
因为使用了esp32，顺便集成了天气显示功能。
暖色光代表晴天，冷色光代表阴雨天。

## 逻辑
当环境暗(光线传感)且有人经过(人体传感)时，点亮灯带。
持续亮灯2分钟或环境明亮(光线传感)时，关闭灯带。

使用esp32不同的cpu核心来收集传感器数字信号和灯带开关逻辑。

## 材料
1. esp32开发板一块
2. 60灯珠1m长的ws2812b灯带
3. 人体传感器
4. 环境光明暗传感器（光敏电阻）

## 开发环境🛠️
1. [arduino 官方IDE ](https://www.arduino.cc/en/software)

## 天气API🌤️🌈
根据您的所在地请修改当地可用天气API，
这里我使用了日本气象厅的open API，通过获取的weatherCode判断
每日天气。
如果您也在日本境内，可以参考我整理的weatherCodes.js文件，
文件列出了日本气象厅常用的天气code可供参考。

## 接线图
请根据选择的传感器模块所需电压自行接线
| esp32 | 人体传感 | 光敏传感 | ws2812b灯带 |
----|----|----|---- 
| 5v | VCC |  | VCC |
| 3v3 |  | VCC | |
| GNU | GND | GND | GND |
| 34 | DO | | |
| 19 |  | DO | |
| 5 | | | DO |
